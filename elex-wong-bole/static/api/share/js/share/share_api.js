window._bd_share_main.F.module('share/share_api', function (e, t, n) { const r = e('base/tangram').T; const i = e('base/class').Class; const s = e('component/comm_tools'); const o = e('share/api_base'); t.Api = i.create(function (e) { function r(t) { window._bd_share_main.F.use('trans/data', function (n) { n.get({ type: 'share_count', url: e.bdUrl || s.getPageUrl(), callback: function (e, n) { const r = { count: e, display: n }; t && t(r); } }); }); } const t = this; const n = { count: 0, clicked: !1 }; t._init = function () { const e = t.getView(); e.render(), e.on('getsharecount', function () { r(function (t) { n.count = t.count, e.setNumber(t.count, t.display); }); }), e.init(); }, t._processAction = function (e) { return { data: { type: 'share' } }; }; }, o.ApiBase); });
